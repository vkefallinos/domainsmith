{
  "_meta": {
    "models": {
      "Flow": "A sequential task flow that defines a series of operations to be executed in order. Can be standalone or attached to multiple agents via slash commands.",
      "Task": "A single step within a flow that performs an operation. updateFlowOutput tasks store LLM output at a specific key in the shared flow state. executeTask tasks perform operations without adding structured output to flow state.",
      "SlashCommand": "A custom command trigger (e.g., /summarize) that users can type to invoke an attached flow. One-to-one mapping: one flow = one slash command per agent.",
      "FlowTaskConfig": "Configuration for task operations including output schema with target field name, array push behavior, prompt fragments, enabled tools, and task instructions."
    },
    "relationships": [
      "Flow belongs to one Workspace",
      "Flow can be attached to many Agents (reusable, many-to-many)",
      "Flow has many Tasks in sequence",
      "SlashCommand belongs to one Agent",
      "SlashCommand triggers one Flow",
      "All tasks share a mutable flow output object that accumulates data across execution"
    ]
  },
  "flows": [
    {
      "id": "flow_001",
      "name": "Customer Onboarding Analysis",
      "description": "Analyzes new customer data, enriches with external data, and generates a summary report",
      "status": "active",
      "scope": "standalone",
      "agentId": null,
      "tags": ["customer-success", "analytics", "automation"],
      "taskCount": 4,
      "createdAt": "2025-01-15T10:30:00Z",
      "updatedAt": "2025-02-10T14:22:00Z",
      "lastRunAt": "2025-02-10T14:22:00Z"
    },
    {
      "id": "flow_002",
      "name": "Document Processing Pipeline",
      "description": "Extracts text from uploaded documents, classifies content, and stores structured metadata",
      "status": "active",
      "scope": "standalone",
      "agentId": null,
      "tags": ["documents", "nlp", "processing"],
      "taskCount": 3,
      "createdAt": "2025-01-20T09:15:00Z",
      "updatedAt": "2025-02-08T11:45:00Z",
      "lastRunAt": "2025-02-08T11:45:00Z"
    },
    {
      "id": "flow_003",
      "name": "Support Ticket Triage",
      "description": "Categorizes incoming support tickets, assigns priority, and suggests initial responses",
      "status": "draft",
      "scope": "standalone",
      "agentId": null,
      "tags": ["support", "triage", "automation"],
      "taskCount": 5,
      "createdAt": "2025-02-01T16:00:00Z",
      "updatedAt": "2025-02-12T09:30:00Z",
      "lastRunAt": null
    },
    {
      "id": "flow_004",
      "name": "Lead Enrichment Flow",
      "description": "Takes basic lead information and enriches with company data, technographic details, and social signals",
      "status": "active",
      "scope": "standalone",
      "agentId": null,
      "tags": ["sales", "enrichment", "leads"],
      "taskCount": 4,
      "createdAt": "2025-01-25T13:20:00Z",
      "updatedAt": "2025-02-05T10:10:00Z",
      "lastRunAt": "2025-02-05T10:10:00Z"
    },
    {
      "id": "flow_005",
      "name": "Content Moderation Pipeline",
      "description": "Scans user-generated content for policy violations, extracts entities, and flags for review",
      "status": "active",
      "scope": "standalone",
      "agentId": null,
      "tags": ["moderation", "safety", "content"],
      "taskCount": 3,
      "createdAt": "2025-01-18T08:00:00Z",
      "updatedAt": "2025-01-18T08:00:00Z",
      "lastRunAt": "2025-02-09T15:30:00Z"
    },
    {
      "id": "flow_006",
      "name": "Invoice Data Extraction",
      "description": "Extracts key fields from invoice documents and validates against purchase order data",
      "status": "draft",
      "scope": "standalone",
      "agentId": null,
      "tags": ["finance", "extraction", "invoices"],
      "taskCount": 2,
      "createdAt": "2025-02-10T11:00:00Z",
      "updatedAt": "2025-02-10T11:00:00Z",
      "lastRunAt": null
    },
    {
      "id": "flow_007",
      "name": "Meeting Notes Summary",
      "description": "Processes meeting transcripts to extract action items, decisions, and generates a structured summary",
      "status": "active",
      "scope": "standalone",
      "agentId": null,
      "tags": ["productivity", "meetings", "summaries"],
      "taskCount": 4,
      "createdAt": "2025-01-22T14:45:00Z",
      "updatedAt": "2025-02-11T16:20:00Z",
      "lastRunAt": "2025-02-11T16:20:00Z"
    }
  ],
  "tasks": [
    {
      "id": "task_001",
      "flowId": "flow_001",
      "type": "updateFlowOutput",
      "order": 1,
      "name": "Extract Customer Fields",
      "description": "Extracts structured customer data from input and passes to next task",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "customerName": { "type": "string" },
            "email": { "type": "string", "format": "email" },
            "company": { "type": "string" },
            "planTier": { "type": "string", "enum": ["basic", "pro", "enterprise"] }
          },
          "required": ["customerName", "email", "company"]
        },
        "targetFieldName": "customerData",
        "model": "claude-3-5-sonnet",
        "temperature": 0.3
      },
      "status": "valid"
    },
    {
      "id": "task_002",
      "flowId": "flow_001",
      "type": "executeTask",
      "order": 2,
      "name": "Enrich with Company Data",
      "description": "Calls company enrichment API to augment customer data",
      "config": {
        "enabledTools": ["clearbit_company_api"],
        "taskInstructions": "Call the Clearbit Company API with domain from {{flow.output.customerData.company}}. Request industry, employees, revenue, and founded fields."
      },
      "status": "valid"
    },
    {
      "id": "task_003",
      "flowId": "flow_001",
      "type": "updateFlowOutput",
      "order": 3,
      "name": "Calculate Onboarding Score",
      "description": "Calculates priority score and passes structured output to next task",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "tierScore": { "type": "number" },
            "sizeScore": { "type": "number" },
            "priorityScore": { "type": "number" }
          }
        },
        "targetFieldName": "scores",
        "taskInstructions": "Map planTier from {{flow.output.customerData.planTier}} to tierScore (basic=1, pro=2, enterprise=3). Map employees to sizeScore (1-50=1, 51-200=2, 201-1000=3, 1000+=4). Calculate priorityScore as tierScore * 2 + sizeScore."
      },
      "status": "valid"
    },
    {
      "id": "task_004",
      "flowId": "flow_001",
      "type": "executeTask",
      "order": 4,
      "name": "Generate Onboarding Plan",
      "description": "Creates personalized onboarding plan (final output, no next task)",
      "config": {
        "taskInstructions": "Generate a personalized onboarding plan based on customer profile: name {{flow.output.customerData.customerName}}, company {{flow.output.customerData.company}}, priority score {{flow.output.scores.priorityScore}}. Include specific milestones, training modules, and success metrics.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.7
      },
      "status": "valid"
    },
    {
      "id": "task_005",
      "flowId": "flow_002",
      "type": "executeTask",
      "order": 1,
      "name": "Extract Document Text",
      "description": "Extracts and cleans text content from uploaded document",
      "config": {
        "taskInstructions": "Extract all text content from {{input}}. Preserve headings, lists, and table structures. Clean up any formatting artifacts from OCR or PDF conversion.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.3
      },
      "status": "valid"
    },
    {
      "id": "task_006",
      "flowId": "flow_002",
      "type": "updateFlowOutput",
      "order": 2,
      "name": "Classify Document Type",
      "description": "Categorizes document and passes classification to next task",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "documentType": {
              "type": "string",
              "enum": ["contract", "invoice", "report", "correspondence", "technical", "other"]
            },
            "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
            "keyTopics": { "type": "array", "items": { "type": "string" } }
          },
          "required": ["documentType", "confidence"]
        },
        "targetFieldName": "classification",
        "model": "claude-3-5-sonnet",
        "temperature": 0.2
      },
      "status": "valid"
    },
    {
      "id": "task_007",
      "flowId": "flow_002",
      "type": "executeTask",
      "order": 3,
      "name": "Store Metadata",
      "description": "Stores extracted metadata in document database",
      "config": {
        "enabledTools": ["document_store_insert"],
        "taskInstructions": "Store the processed document with classification {{flow.output.classification.documentType}}, topics {{flow.output.classification.keyTopics}}, and timestamp {{now}} in the processed_documents collection."
      },
      "status": "valid"
    },
    {
      "id": "task_008",
      "flowId": "flow_003",
      "type": "updateFlowOutput",
      "order": 1,
      "name": "Parse Ticket Data",
      "description": "Extracts ticket information and passes to next task",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "subject": { "type": "string" },
            "category": { "type": "string" },
            "urgency": { "type": "string", "enum": ["low", "medium", "high", "critical"] },
            "customerTier": { "type": "string" }
          },
          "required": ["subject", "category"]
        },
        "targetFieldName": "ticketData",
        "model": "claude-3-5-sonnet",
        "temperature": 0.3
      },
      "status": "valid"
    },
    {
      "id": "task_009",
      "flowId": "flow_003",
      "type": "updateFlowOutput",
      "order": 2,
      "name": "Calculate Priority",
      "description": "Determines ticket priority and passes to next task",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "priorityScore": { "type": "number" },
            "priorityLevel": { "type": "string", "enum": ["P1", "P2", "P3"] }
          }
        },
        "targetFieldName": "priority",
        "taskInstructions": "Calculate priorityScore: critical=100, high=75, medium=50, low=25 from {{flow.output.ticketData.urgency}}. Set priorityLevel: P1 if score>=75, P2 if >=50, else P3."
      },
      "status": "valid"
    },
    {
      "id": "task_010",
      "flowId": "flow_003",
      "type": "executeTask",
      "order": 3,
      "name": "Generate Response Draft",
      "description": "Creates initial response template",
      "config": {
        "taskInstructions": "Draft a response for {{flow.output.ticketData.subject}} in category {{flow.output.ticketData.category}}. Acknowledge the issue, set expectations based on priority level {{flow.output.priority.priorityLevel}}, request additional info if needed, maintain professional and empathetic tone.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.6
      },
      "status": "valid"
    },
    {
      "id": "task_011",
      "flowId": "flow_003",
      "type": "executeTask",
      "order": 4,
      "name": "Lookup Customer History",
      "description": "Retrieves previous customer interactions",
      "config": {
        "enabledTools": ["support_history_lookup"],
        "taskInstructions": "Look up customer history for customer from {{flow.output.ticketData.customerTier}} tier including previous interactions and tickets. Include resolved tickets, limit to 10 most recent."
      },
      "status": "valid"
    },
    {
      "id": "task_012",
      "flowId": "flow_003",
      "type": "executeTask",
      "order": 5,
      "name": "Refine Response with Context",
      "description": "Updates response draft with customer history",
      "config": {
        "taskInstructions": "Update the draft response with customer history context from tool results. Acknowledge patterns or recurring issues. Ensure welcoming tone for first-time customers.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.5
      },
      "status": "valid"
    },
    {
      "id": "task_013",
      "flowId": "flow_004",
      "type": "updateFlowOutput",
      "order": 1,
      "name": "Parse Lead Data",
      "description": "Extracts and validates lead information",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "fullName": { "type": "string" },
            "email": { "type": "string", "format": "email" },
            "company": { "type": "string" },
            "jobTitle": { "type": "string" },
            "source": { "type": "string" }
          },
          "required": ["fullName", "email", "company"]
        },
        "targetFieldName": "leadData",
        "model": "claude-3-5-sonnet",
        "temperature": 0.2
      },
      "status": "valid"
    },
    {
      "id": "task_014",
      "flowId": "flow_004",
      "type": "executeTask",
      "order": 2,
      "name": "Enrich Company Data",
      "description": "Fetches company information from external API",
      "config": {
        "enabledTools": ["clearbit_company_api"],
        "taskInstructions": "Extract domain from {{flow.output.leadData.email}} and fetch company data including industry, employees, revenue, technologies, and alexa rank."
      },
      "status": "valid"
    },
    {
      "id": "task_015",
      "flowId": "flow_004",
      "type": "executeTask",
      "order": 3,
      "name": "Get LinkedIn Profile",
      "description": "Retrieves professional profile data",
      "config": {
        "enabledTools": ["linkedin_profile_fetch"],
        "taskInstructions": "Fetch LinkedIn profile using email {{flow.output.leadData.email}}. Request profileUrl, currentPosition, companySize, and connections."
      },
      "status": "valid"
    },
    {
      "id": "task_016",
      "flowId": "flow_004",
      "type": "updateFlowOutput",
      "order": 4,
      "name": "Compute Lead Score",
      "description": "Calculates lead score and segment",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "leadScore": { "type": "number" },
            "segment": { "type": "string", "enum": ["enterprise", "mid-market", "smb"] }
          }
        },
        "targetFieldName": "leadScore",
        "taskInstructions": "Calculate leadScore based on enriched company data: revenue>10M=30 else 10, employees>500=25 else 5, connections>500=20 else 5, has salesforce=15, referral source from {{flow.output.leadData.source}}=10 else 5. Segment: >=75=enterprise, >=50=mid-market, else smb."
      },
      "status": "valid"
    },
    {
      "id": "task_017",
      "flowId": "flow_005",
      "type": "updateFlowOutput",
      "order": 1,
      "name": "Analyze Content",
      "description": "Analyzes content for policy violations",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "violationFound": { "type": "boolean" },
            "violationCategories": { "type": "array", "items": { "type": "string" } },
            "confidence": { "type": "number", "minimum": 0, "maximum": 1 },
            "explanation": { "type": "string" }
          }
        },
        "targetFieldName": "violationCategories",
        "isPushable": true,
        "taskInstructions": "Analyze {{input}} for: hate speech, self-harm, violence, sexual content, spam. Return structured assessment.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.2
      },
      "status": "valid"
    },
    {
      "id": "task_018",
      "flowId": "flow_005",
      "type": "updateFlowOutput",
      "order": 2,
      "name": "Flag for Review",
      "description": "Sets review flags based on analysis",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "requiresReview": { "type": "boolean" },
            "reviewPriority": { "type": "string", "enum": ["high", "medium", "low"] }
          }
        },
        "targetFieldName": "reviewFlags",
        "taskInstructions": "Set requiresReview=true if {{flow.output.safetyAnalysis.violationFound}} or confidence<0.8. Set reviewPriority: high if violationFound, medium if confidence<0.5, else low."
      },
      "status": "valid"
    },
    {
      "id": "task_019",
      "flowId": "flow_005",
      "type": "updateFlowOutput",
      "order": 3,
      "name": "Extract Entities",
      "description": "Extracts named entities for indexing",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "people": { "type": "array", "items": { "type": "string" } },
            "organizations": { "type": "array", "items": { "type": "string" } },
            "locations": { "type": "array", "items": { "type": "string" } },
            "dates": { "type": "array", "items": { "type": "string" } }
          }
        },
        "targetFieldName": "entities",
        "model": "claude-3-5-sonnet",
        "temperature": 0.1
      },
      "status": "valid"
    },
    {
      "id": "task_020",
      "flowId": "flow_006",
      "type": "updateFlowOutput",
      "order": 1,
      "name": "Extract Invoice Fields",
      "description": "Extracts key fields from invoice",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "invoiceNumber": { "type": "string" },
            "invoiceDate": { "type": "string" },
            "dueDate": { "type": "string" },
            "vendorName": { "type": "string" },
            "lineItems": { "type": "array" },
            "subtotal": { "type": "number" },
            "taxAmount": { "type": "number" },
            "totalAmount": { "type": "number" }
          }
        },
        "targetFieldName": "invoiceData",
        "taskInstructions": "Extract invoice number, dates, vendor, line items with description/quantity/price/total, subtotal, tax, and total.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.1
      },
      "status": "valid"
    },
    {
      "id": "task_021",
      "flowId": "flow_006",
      "type": "executeTask",
      "order": 2,
      "name": "Validate Against PO",
      "description": "Cross-references invoice with purchase order",
      "config": {
        "enabledTools": ["erp_po_validation"],
        "taskInstructions": "Validate invoice {{flow.output.invoiceData.invoiceNumber}} from vendor {{flow.output.invoiceData.vendorName}} against existing PO. Use match threshold of 0.95."
      },
      "status": "valid"
    },
    {
      "id": "task_022",
      "flowId": "flow_007",
      "type": "executeTask",
      "order": 1,
      "name": "Transcribe and Clean",
      "description": "Cleans meeting transcript",
      "config": {
        "taskInstructions": "Clean up transcript: fix speaker attribution, remove filler words, clarify unclear passages, preserve meaning.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.3
      },
      "status": "valid"
    },
    {
      "id": "task_023",
      "flowId": "flow_007",
      "type": "updateFlowOutput",
      "order": 2,
      "name": "Extract Action Items",
      "description": "Identifies action items from meeting",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "actionItems": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "description": { "type": "string" },
                  "assignee": { "type": "string" },
                  "dueDate": { "type": "string" },
                  "priority": { "type": "string", "enum": ["high", "medium", "low"] }
                },
                "required": ["description"]
              }
            }
          }
        },
        "targetFieldName": "actionItems",
        "isPushable": true,
        "model": "claude-3-5-sonnet",
        "temperature": 0.3
      },
      "status": "valid"
    },
    {
      "id": "task_024",
      "flowId": "flow_007",
      "type": "updateFlowOutput",
      "order": 3,
      "name": "Extract Decisions",
      "description": "Identifies decisions from meeting",
      "config": {
        "outputSchema": {
          "type": "object",
          "properties": {
            "decisions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "topic": { "type": "string" },
                  "decision": { "type": "string" },
                  "participants": { "type": "array", "items": { "type": "string" } }
                },
                "required": ["topic", "decision"]
              }
            }
          }
        },
        "targetFieldName": "decisions",
        "isPushable": true,
        "model": "claude-3-5-sonnet",
        "temperature": 0.3
      },
      "status": "valid"
    },
    {
      "id": "task_025",
      "flowId": "flow_007",
      "type": "executeTask",
      "order": 4,
      "name": "Generate Meeting Summary",
      "description": "Creates comprehensive meeting summary",
      "config": {
        "taskInstructions": "Generate meeting summary with: overview (purpose, attendees, duration), key discussion points, decisions {{flow.output.decisions}}, action items {{flow.output.actionItems}}, next meeting info if mentioned.",
        "model": "claude-3-5-sonnet",
        "temperature": 0.5
      },
      "status": "valid"
    }
  ]
}
